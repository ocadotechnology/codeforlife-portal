{% extends 'portal/base.html' %}


{% load app_tags %}
{% block subNav %}
<section class="banner banner--teacher">
    <h1 class="banner__text--primary">Welcome back, {{ user|make_into_username }}</h1>
</section>
<div class="sticky-subnav sub-nav sub-nav--teacher">
    <ul class="nav is-flex">
        <li><a class="button button--secondary button--secondary--light" href="{% url 'dashboard' %}#school">Your school</a></li>
        <li class="active"><a class="button button--secondary button--secondary--light" href="{% url 'dashboard' %}#classes">Your classes</a></li>
        <li><a class="button button--secondary button--secondary--light" href="{% url 'dashboard' %}#account">Your account</a></li>
    </ul>
</div>
{% endblock subNav %}


{% block content %}
<div id="move_students_page"></div>

<section class="background container">
    <h4>Move students from class {{ old_class.name }} ({{ old_class.access_code }})</h4>
</section>

<div class="background container">
    <p><a href="{% url 'view_class' old_class.access_code %}" class="button--menu button--menu--enabled">&lt; Back to Edit class</a></p>
    <p>Choose a class from the drop down menu below to move the student.</p>
    <h4>Select destination class</h4>
    <form method="post" action="{% url 'teacher_move_students_to_class' old_class.access_code %}">

        {% csrf_token %}
        
        {{ form.non_field_errors }}
        
        {% for field in form %}
        
        <label for="id_{{ field.html_name }}">{{ field.label }}</label>
        <div class="row form--row">
            <div class="d-flex flex-col col-sm-6 col-md-6">
                {{ field }}
                {{ field.errors }}
                {% endfor %}
            </div>
        </div>
        <small>Choose class</small>
        <input type="hidden" name="transfer_students" value="{{ transfer_students }}"/>
        <div class="background button-group">
            <a id="cancel_button" class="button button--secondary button--secondary--dark" href="{% url 'view_class' old_class.access_code %}">Cancel</a>
            <button id="move_button" type="submit" class="button button--primary">Continue</button>
        </div>
    </form>
</div>

{% endblock %}
