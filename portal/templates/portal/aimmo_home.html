{% extends 'portal/base.html' %}
{% load static %}
{% load app_tags %}

{% block aimmo %}
<a href="{% url 'play_aimmo' %}" class="button--menu button--menu--secondary
button--menu--enabled button--menu--teacher--active">AI:MMO</a>
{% endblock aimmo %}

{% block myGames %}
<a href="{% url 'student_details' %}" id="student_dashboard_button" class="button--menu button--menu--secondary
button--menu--enabled button--menu--student--active">My Games</a>
{% endblock myGames %}

{% block css %}
{{block.super}}
{% endblock css %}

{% block scripts %}
{{block.super}}
{% endblock scripts %}

{% block subNav %}
{{ block.super }}

<script>
    $( document ).ready(function() {
        $('#create-game').hide();
        $('#create-game-button').click(function(){
            $('#join-game').hide();
            $('#create-game').show();
        });

        $('#back-button').click(function(){
            $('#create-game').hide();
            $('#join-game').show();
        });
    });
</script>

<div class="banner banner--teacher row">
    <div class="col-sm-4 col-sm-offset-2">
        <img title="Preview version" alt="Preview version" src="{% static 'portal/img/preview_version_label.svg' %}">
        <h1 class="banner__text--primary">AI:MMO</h1>
        <div id="join-game" class="button-group">
            <div class="dropdown">
                <button id="logout_menu" class="button button--regular button--secondary button--secondary--dark logout"
                        data-toggle="dropdown">
                    <div class="dropdown__text">Join a game</div>
                    <div class="glyphicon glyphicon-triangle-bottom"></div></button>
                <ul class="dropdown-menu">
                    <li class="dropdown-menu__option">
                        <a class="button--regular button--logout" id="logout_button" aria-labelledby="Log out"
                           href="{% url 'logout_view' %}" onclick="deleteAllLocalStorageWorkspaces();">
                            <div class="glyphicon glyphicon-log-out"></div>
                            <small class="dropdown-menu__option__text">Log out</small></a>
                    </li>
                    {% if user|is_logged_in_as_teacher %}
                    <li class="dropdown-menu__option">
                        <a class="button--regular button--logout" aria-labelledby="Change password"
                           href="{% url 'dashboard' %}#edit_account_details_password">
                            <div class="glyphicon glyphicon-lock"></div>
                            <small class="dropdown-menu__option__text">Change password</small></a>
                    </li>
                    <li class="dropdown-menu__option">
                        <a class="button--regular button--logout" aria-labelledby="Update my details"
                           href="{% url 'dashboard' %}#account">
                            <div class="glyphicon glyphicon-user"></div>
                            <small class="dropdown-menu__option__text">Update my details</small></a>
                    </li>
                    {% else %}
                    <li class="dropdown-menu__option">
                        <a class="button--regular button--logout" aria-labelledby="Change password"
                           href="{% url 'student_edit_account' %}" id="student_edit_account_button">
                            <div class="glyphicon glyphicon-lock"></div>
                            <small class="dropdown-menu__option__text">Change password</small></a>
                    </li>
                    {% endif %}
                </ul>
            </div>
            <button id="create-game-button" class="button button--regular button-primary button--primary--general-educate">Create a new game</button>
        </div>
        <div id="create-game">
            <div class="button-group">
                <input name="game_name" type="text">
                <a href="" class="button button--regular button-primary button--primary--general-educate">Create</a>
            </div>
            <p><a id="back-button"><small>&#10229; Back</small></a></p>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="banner--picture"><div class="banner--picture__inside1"><div class="banner--picture__inside2 banner--picture--aimmo"></div></div></div>
    </div>
</div>
{% endblock subNav %}

{% block content %}
{{block.super}}

<div class="background--primary">
    {% if user|is_logged_in_as_teacher %}
        <section class="background col-sm-6 col-center">
            <h1>Your school has been selected to trial the preview version of AI:MMO</h1>
            <p>Your testing and
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdNGbf-oLanNhIqCQ-Yz7mbiTBBjX-8rpdXQUB8XIgBvwwuJg/viewform?usp=sf_link">feedback</a>
                will help Code for Life deliver an enjoyable game, and will allow us to consult with you on resources
                that will be relevant to teaching computing classes in secondary schools<br>(13 &mdash; 16 year olds).</p>
        </section>
    {% endif %}
    <div class="background col-sm-8 col-center">
        <div class="row pdf-list">
            <div class="col-sm-4">
                <h3>User guide</h3>
                <p>Find out more about the game and learn the basics for using the code editor and game map.</p>
                <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">User Guide</a></p>
            </div>
            <div class="col-sm-4">
                <h3>Challenges</h3>
                {% if user|is_logged_in_as_teacher %}
                    <p>We have created two initial challenges for both teachers and students to become familiar with the game.</p>
                    <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Teacher lesson guide for challenges</a></p>
                    <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Student challenge sheet 1</a></p>
                    <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Student challenge sheet 2</a></p>
                {% else %}
                    <p>We have created two initial challenges for you to become familiar with the game.</p>
                    <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Challenge sheet 1</a></p>
                    <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Challenge sheet 2</a></p>
                {% endif %}
            </div>
            <div class="col-sm-4">
                <h3>Resource sheets</h3>
                <p>Resource sheets help you to understand coding concepts that will be used within the game.</p>
                <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Code cheat sheet</a></p>
                <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Indentation &mdash; why it&rsquo;s important</a></p>
                <p><a href="{% url 'materials_viewer' pdf_name='user_guide_aimmo' %}">Understand the turn-based game</a></p>
            </div>
        </div>
    </div>
</div>

<section class="background">
    <div class="col-sm-6 col-center">
        {% if user|is_logged_in_as_teacher %}
            <h3>Teachers, tell us what you think of AI:MMO...</h3>
            <div class="background">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdNGbf-oLanNhIqCQ-Yz7mbiTBBjX-8rpdXQUB8XIgBvwwuJg/viewform?usp=sf_link"
                   class="button button--regular button--primary--navigation">Find out more about us</a>
            </div>
        {% else %}
            <h3>Students, tell us what you think of AI:MMO...</h3>
            <div class="background">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSeI8Fu-tdtIseAaCrDbtOqtAK4x_-SWKttJYrbFx-j52fBYMA/viewform?usp=sf_link"
                   class="button button--regular button--primary--navigation">Find out more about us</a>
            </div>
        {% endif %}
    </div>
</section>

{% endblock content %}
