{% extends "portal/teach/base.html" %}

{% block nav_teacher_account %}<b><a href="{% url 'portal.views.teacher_edit_account' %}">Account</a></b>{% endblock nav_teacher_account %}

{% block content %}
    <h1>Backup Tokens</h1>
    <p>Backup tokens can be used when your primary and backup
            phone numbers aren't available. The backup tokens below can be used
            for login verification. If you've used up all your backup tokens, you
            can generate a new set. Only the backup tokens shown
            below will be valid, and each token may only be used once.</p>

    {% if device.token_set.count %}
        <div class='indent'>
            <ul>
                {% for token in device.token_set.all %}
                    <li>{{ token.token }}</li>
                {% endfor %}
            </ul>
        </div>
        <br/>
        <p>Print these tokens and keep them somewhere safe away from other passwords.</p>
    {% else %}
        <p>You don't have any backup codes yet.</p>
    {% endif %}

    <form method="post">{% csrf_token %}{{ form }}
        <a href="{% url 'portal.views.teacher_edit_account'%}"
             class="btn btn-default">Back to my account</a>
        <button class="btn btn-primary" type="submit">Generate Tokens</button>
    </form>
{% endblock %}
