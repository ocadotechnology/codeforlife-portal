{% extends "portal/teach/base.html" %}
{% load two_factor %}
{% load staticfiles %}

{% block nav_teacher_account %}<b><a href="{% url 'teacher_edit_account' %}">Account</a></b>{% endblock nav_teacher_account %}

{% block content %}

    <h1>Account</h1><br>
    <h2>Two factor authentication</h2><br>

    <h4>What is two factor authentication?</h4><br>
    <p>Two factor authentication (2FA) is a way to further protect your account by requiring two fundamentally different forms of authentication when logging in. To log in you need to provide both something you know (your password) and something you have (your smartphone or tablet).</p>

    <h4>How does two factor authentication protect me?</h4><br>
    <p>In addition to your password, your smartphone or tablet will generate a six digit token everytime you login to your account, providing an additional layer of security. You will have greater protection using 2FA than with a password alone. </p>

    <h4>How do I sign in with two factor authentication?</h4><br>
    <p>When you sign into the Code for Life website, you provide your email address and password. If you've opted to use 2FA, you'll be asked for your six digit token which will be generated by your smartphone or tablet. Type in the token to complete the sign in process.</p>

    <h4>What happens if I forget my smartphone or tablet? Will I be able to access my account?</h4><br>
    <p>Don't worry - you can set up backup tokens for this purpose. These tokens, each of which can only be used once, allow you to sign in without your smartphone or tablet. If you need more backup tokens, you will be able to generate them from your account settings. You should keep your backup tokens safe and stored away from any other passwords.</p>

    <h4>How do I set up two factor authentication?</h4><br>
    <div class='section group'>
        <div class='col span_1_of_3a'>
            <h4>Step 1</h4><br>
            <p>Get your smartphone or tablet ready by downloading the Google Authenticator app or equivalent.</p>
            <p style="text-align: center"><img src="{% static 'portal/img/2fa_authenticator_link.png' %}" /></p>
            <p>Go to <a href="http://m.google.com/authenticator/" target="_blank">Google Authenticator</a> for more information, or scan the QR code above from your device.</p>
        </div>
        <div class='col span_1_of_3a'>
            <h4>Step 2</h4><br>
            <p>Enable two factor authentication by selecting the 'Set up Two Step Authentication' button at the bottom of the page.
            <p style="text-align: center"><img height=225 src="{% static 'portal/img/qr_code_scan.png' %}" /></p>
            <p>Follow the instructions to link your phone with your Code for Life account by scanning a QR code.</p>
        </div>
        <div class='col span_1_of_3a'>
            <h4>Step 3</h4><br>
            <p>The process is complete. The next time you sign in you'll have the extra step of adding in your six digit token described under 'how do I sign in with two factor authentication'.</p><br><br>
            <p style="text-align: center"><img height=150 src="{% static 'portal/img/padlock.png' %}" /></p><br><br>
            <p>It's that easy.</p>
        </div>
    </div>
    {% if default_device %}
        <p><b>You are already signed up for two factor authentication.</b></p>
        <a class="btn btn-default" href="{% url 'teacher_edit_account' %}">Cancel</a>
    {% else %}
        <a class="btn btn-default" href="{% url 'teacher_edit_account' %}">Cancel</a>
        <a class="btn btn-primary pull-right" href="{% url 'two_factor:setup' %}">Set Up Two Factor Authentication</a>
    {% endif %}

{% endblock %}
